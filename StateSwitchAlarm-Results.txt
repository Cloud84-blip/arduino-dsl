int securityAlarm;
int motionSensor;
// Initial State
void idle() {
  if (digitalRead(motionSensor) == HIGH) {
    buttonDown();
  }
}

void buttonDown() {
  if (digitalRead(motionSensor) == LOW) {
    switchAlert();
  }
}

void alertOn() {
  digitalWrite(securityAlarm, HIGH);
}

void alertOn() {
  digitalWrite(securityAlarm, LOW);
}

void switchAlert() {
  if (digitalRead(securityAlarm) == LOW) {
    alertOn();
  }
  if (digitalRead(securityAlarm) == HIGH) {
    alertOff();
  }
}

void setup() {
  securityAlarm = 9;
  pinMode(securityAlarm, OUTPUT); // Initialisation de l'alarme
  motionSensor = 11;
  pinMode(motionSensor, INPUT); // Initialisation du capteur
}

void loop() {
  idle();
}
